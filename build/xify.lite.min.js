!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.xify=e()}}(function(){return function e(t,r,n){function i(a,f){if(!r[a]){if(!t[a]){var u="function"==typeof require&&require;if(!f&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[a]={exports:{}};t[a][0].call(c.exports,function(e){var r=t[a][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){var n=e("jquery");e("./lib/jquery.history.js"),e("./lib/jquery.ba-urlinternal.js");["Arguments","Function","String","Number","Date","RegExp","Array"].forEach(function(e){n["is"+e]=function(t){return Object.prototype.toString.call(t)=="[object "+e+"]"}}),function(e,r){if(window.History){t.exports=e;var n=window.History;e.xify=n;var i=e.Deferred().resolve(null),o=function(t){return"pending"!=i.state()&&(t.beforeSend=function(r,n){e(window).trigger(e.Event("fetching.xify"+t.eventNameSpace,{xhr:r,act:t}),r)},t.error=function(e,t,r){window.console&&console.log&&console.log("xify error:",r)},t.success=function(r,n,i){if(t.elementMap){var o=e("<div>").append(e.parseHTML(r));e.each(t.elementMap,function(t,r){var n=e(r.to||r.from),i=o.find(r.from).css("display","none"),a=e.Event("replacing.xify",{elementMap:r,original:n,replacement:i[0]}),f=e.Event("replaced.xify",{elementMap:r,original:n,replacement:i[0]});n.trigger(a),n.promise().done(function(){e.isArray(r.attr)&&r.attr.length>0?(n.attr(r.attr[0],i.attr(r.attr[1]||r.attr[0])),n.trigger(f)):e.isString(r.attr)?(n.attr(r.attr,i.attr(r.attr)),n.trigger(f)):r.attr||(n.replaceWith(i),i.trigger(f))})})}},i=e.ajax(t),i.always(function(r,n,o){e(window).trigger(e.Event("fetched.xify"+t.eventNameSpace,{xhr:i,act:t}),i)}).done(function(e,t,r){})),i};e(window).on("statechange",function(e){e.preventDefault();var t=n.getState(),r=t.data;t.data&&t.data.url&&t.data.isXify&&o(r)}),e.xify.on=function(t,a,f){e(document).on(t,a,function(t){t.preventDefault();var u=n.getState(),l=null;"pending"!=i.state()&&(l={type:"GET"},e.isFunction(f)?e.extend(l,f(t)):e.isString(f)&&(l.url=f),l.isXify=!0,l.actionTrigger=t.type,l.actionElement=a,l.eventNameSpace="","GET"!=l.type&&l.fetchSecretly==r&&(l.fetchSecretly=!0),l.url==u.url&&l.fetchAgain||l.fetchSecretly?o(l):n.pushState(l,null,l.url))})}}}(n)},{"./lib/jquery.ba-urlinternal.js":"./lib/jquery.ba-urlinternal.js","./lib/jquery.history.js":"./lib/jquery.history.js",jquery:"jquery"}]},{},[1])(1)});