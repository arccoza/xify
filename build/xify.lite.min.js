!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.xify=e()}}(function(){return function e(t,n,r){function i(a,f){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!f&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){var r=e("jquery");["Arguments","Function","String","Number","Date","RegExp","Array"].forEach(function(e){r["is"+e]=function(t){return Object.prototype.toString.call(t)=="[object "+e+"]"}}),function(e,n){if(window.History){t.exports=e;var r=window.History;e.xify=r;var i=e.Deferred().resolve(null),o=function(t){return"pending"!=i.state()&&(t.beforeSend=function(n,r){e(window).trigger(e.Event("fetching.xify"+t.eventNameSpace,{xhr:n,act:t}),n)},t.error=function(e,t,n){window.console&&console.log&&console.log("xify error:",n)},t.success=function(n,r,i){if(t.elementMap){var o=e("<div>").append(e.parseHTML(n));e.each(t.elementMap,function(t,n){var r=e(n.to||n.from),i=o.find(n.from).css("display","none"),a=e.Event("replacing.xify",{elementMap:n,original:r,replacement:i[0]}),f=e.Event("replaced.xify",{elementMap:n,original:r,replacement:i[0]});r.trigger(a),r.promise().done(function(){e.isArray(n.attr)&&n.attr.length>0?(r.attr(n.attr[0],i.attr(n.attr[1]||n.attr[0])),r.trigger(f)):e.isString(n.attr)?(r.attr(n.attr,i.attr(n.attr)),r.trigger(f)):n.attr||(r.replaceWith(i),i.trigger(f))})})}},i=e.ajax(t),i.always(function(n,r,o){e(window).trigger(e.Event("fetched.xify"+t.eventNameSpace,{xhr:i,act:t}),i)}).done(function(e,t,n){})),i};e(window).on("statechange",function(e){e.preventDefault();var t=r.getState(),n=t.data;t.data&&t.data.url&&t.data.isXify&&o(n)}),e.xify.on=function(t,a,f){e(document).on(t,a,function(t){t.preventDefault();var c=r.getState(),u=null;"pending"!=i.state()&&(u={type:"GET"},e.isFunction(f)?e.extend(u,f(t)):e.isString(f)&&(u.url=f),u.isXify=!0,u.actionTrigger=t.type,u.actionElement=a,u.eventNameSpace="","GET"!=u.type&&u.fetchSecretly==n&&(u.fetchSecretly=!0),u.url==c.url&&u.fetchAgain||u.fetchSecretly?o(u):r.pushState(u,null,u.url))})}}}(r)},{jquery:"jquery"}]},{},[1])(1)});